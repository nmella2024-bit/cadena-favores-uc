(14 puntos):  Suponga que en el problema reci´ en descrito nos enfrentamos a la situaci´ on en que la demanda por camas,  d it   es aleatoria, pero sabemos que sigue una cierta distribuci´ on de probabilidad conocida. Si la asignaci´ on de camas que se ha decidido no es suficiente para cubrir la demanda, entonces la demanda que no puede ser cubierta debe ser transferida a otros hospitales, lo que representa un aspecto negativo.  a) (8 pts.)   Proponga una reformulaci´ on del problema anterior que tome en cuenta un “costo”   β it   por cada unidad de demanda no cubierta de la especialidad   i   en la semana   t , y haga su reformulaci´ on como un modelo estoc´ astico de dos etapas. Sea expl´ ıcito en lo que considerar´ a variables de primera etapa (“here and now”) y de segunda etapa (de ajuste o “wait and see”). Justifique su elecci´ on con claridad. Tambi´ en sea expl´ ıcito en la escritura de los modelos. (Ind: si necesita, si´ entase libre de hacer reescrit- uras del modelo).  Respuesta:   Vamos primera a hacer lo siguiente: juntar las restricciones (1) y (2) y de esta manera el modelo queda:

--- Page 5 ---
min   T ∑  t =1  p ∑  i =1       c it x it   +   p ∑  j =1  j 6   = i  g t ij   w t ij        s.a. x it − 1   +   p ∑  j =1  j 6   = i  w t ji   −   p ∑  k =1  k 6   = i  w t ik   ≥   d it   i   = 1 , . . . , p ;   t   = 1 , . . . , T   (1)  p ∑  i =1  x it   ≤   K t   t   = 1 , . . . , T   (3)  p ∑  i =1  α it x it   ≤   L t   t   = 1 , . . . , T   (4)  x it   ≥   0 , w t ij   ≥   0   i, j   = 1 , . . . , p ;   t   = 1 , . . . , T   (5) Esto no es estrictamente necesario hacerlo pero simplifica un poco la escritura que sigue y, adem´ as, hace m´ as expl´ ıcita la interacci´ on de las decisiones con la demanda. Dado que ahora hay posibilidades de dejar demanda sin cumplir, vamos a agregar al modelo variables de ajuste en la restricci´ on (1),   s it   que permiten no cumplir la demanda y medir por cu´ anto, y pondremos el costo en la funci´ on objetivo. El modelo reformulado es: min   T ∑  t =1  p ∑  i =1       c it x it   +   p ∑  j =1  j 6   = i  g t ij   w t ij   +   β it s it        s.a. x it − 1   +   p ∑  j =1  j 6   = i  w t ji   −   p ∑  k =1  k 6   = i  w t ik   +   s it   =   d it   i   = 1 , . . . , p ;   t   = 1 , . . . , T   (1)  p ∑  i =1  x it   ≤   K t   t   = 1 , . . . , T   (3)  p ∑  i =1  α it x it   ≤   L t   t   = 1 , . . . , T   (4)  x it   ≥   0 , w t ij   ≥   0 , s it   ≥   0   i, j   = 1 , . . . , p ;   t   = 1 , . . . , T   (5) N´ otese que, dado que lo que importa es incurrir en costos cuando no se cumple la demanda, se est´ a cobrabdo s´ olo en ese caso (es como si la demanda disminuyera en la cantidad   s it ). Ahora asumimos que   d   es aleatorio y en lo que se muestra a continuaci´ on se asume que las variables   x  y   w   son las variables de primera etapa, y las variables   s   son las variables de ajuste cuando se manifiesta la incertidumbre. Entonces, el modelo de 2 etapas es: min   T ∑  t =1  p ∑  i =1       c it x it   +   p ∑  j =1  j 6   = i  g t ij   w t ij         +   E ( Q ( s, w ))  s.a.   p ∑  i =1  x it   ≤   K t   t   = 1 , . . . , T   (3)  p ∑  i =1  α it x it   ≤   L t   t   = 1 , . . . , T   (4)  x it   ≥   0 , w t ij   ≥   0   i, j   = 1 , . . . , p ;   t   = 1 , . . . , T   (5) El problema de segunda etapa es:  Q ( x, w ) = min   T ∑  t =1  p ∑  i =1  β it s it  s.a. x it − 1   +   p ∑  j =1  j 6   = i  w t ji   −   p ∑  k =1  k 6   = i  w t ik   +   s it   =   d it   i   = 1 , . . . , p ;   t   = 1 , . . . , T   (1)  s it   ≥   0   i   = 1 , . . . , p ;   t   = 1 , . . . , T

--- Page 6 ---
Es posible argumentar tambi´ en que las variables   x   son las de primera etapa y las variables   w   y   s   son las de segunda etapa. Esto se justifica en el hecho que las decisiones de   w   p´ ueden ser pensadas tambi´ en como ajuste. Esto lleva a una formulaci´ on diferente, pero que tambi´ en es correcta. Nota de correcci´ on: Aqu´ ı se podr´ ıa asignar 2 puntos por identificar las variables de primera y segunda etapa e introducir las variables   s , 3 puntos por el modelo general de 2 etapas y 3 puntos por el detalle del problema de segunda etapa, el que define   Q . Otra cosa a tener en cuenta: en esta soluci´ on los modelos est´ an detallados, est´ a perfectamente bien si los estudiantes los ponen en forma m´ as compacta, por ejemplo, haciendo s´ olo relaci´ on a los n´ umeros de restricciones en el modelo original del enunciado.  b) (6 pts.)   Ahora explicite la formulaci´ on SAA (Stochastic Average Approximation) para el problema for- mulado por usted en la parte a) e indique c´ omo se podr´ ıa resolver y por qu´ e (no tiene que escribir el detalle de ese m´ etodo de resoluci´ on, pero s´ ı tiene que identificar bien la estructura que le sirve de argumento para el m´ etodo que pretende usar).  Respuesta:   Para la formulaci´ on SAA, supongamos que se generan   R   escenarios de los valores   d , a partir de la distribuci´ on de probabilidad conocida. Denotemos por   d q it   los valores de demanda de esos escenarios. El modelo SAA tiene que considerar variables   s   por escenario y es: min   T ∑  t =1  p ∑  i =1       c it x it   +   p ∑  j =1  j 6   = i  g t ij   w t ij         +   1  R R ∑  q =1  {   T ∑  t =1  p ∑  i =1  β it s it  }  s.a. x it − 1   +   p ∑  j =1  j 6   = i  w t ji   −   p ∑  k =1  k 6   = i  w t ik   +   s q it   =   d q it   i   = 1 , . . . , p ;   t   = 1 , . . . , T   ;   q   = 1 , . . . , R   (1)  p ∑  i =1  x it   ≤   K t   t   = 1 , . . . , T   (3)  p ∑  i =1  α it x it   ≤   L t   t   = 1 , . . . , T   (4)  x it   ≥   0 , w t ij   ≥   0 , s q it   ≥   0   i, j   = 1 , . . . , p ;   t   = 1 , . . . , T   ;   q   = 1 , . . . , R   (5) Este problema se resuelve por Descomposici´ on de Benders ya que   x   y   w   son variables complicantes, mientras que los   s   pueden quedar en la parte “dualizable” del m´ etodo de Benders. Aqu´ ı es v´ alido tambi´ en mostrar un diagrama de la estructura por bloques. Notar tambi´ en lo siguiente: dado que el problema completo es lineal, otra respuesta v´ alida ser´ ıa argumentar que si se dualiza com- pleto, el correspondiente dual tien la estructura para la Descomposici´ on de Dantzig-Wolfe. Esto debe justificarse bien con un diagrama o similar. Nota de correcci´ on: 4 puntos por la formulaci´ on de SAA y hacerlo bien, 2 puntos por mencionar y justificar Benders.